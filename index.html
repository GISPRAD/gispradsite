<!doctype html>
<html lang="pt-br" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GISPRAD</title>
  <link rel="icon" type="image/png" href="Logo_2025_sem_fundo.png">

  <style>
    @font-face{
      font-family:"Glacial Indifference";
      src:url("fonts/GlacialIndifference-Regular.woff2") format("woff2"),
          url("fonts/GlacialIndifference-Regular.woff") format("woff");
      font-weight:400; font-style:normal; font-display:swap;
    }
    @font-face{
      font-family:"Glacial Indifference";
      src:url("fonts/GlacialIndifference-Bold.woff2") format("woff2"),
          url("fonts/GlacialIndifference-Bold.woff") format("woff");
      font-weight:700; font-style:normal; font-display:swap;
    }
    @font-face{
      font-family:"SUGO DISPLAY";
      src:url("fonts/SugoDisplay.woff2") format("woff2"),
          url("fonts/SugoDisplay.woff") format("woff");
      font-weight:400; font-style:normal; font-display:swap;
    }

    :root{
      --g1:#436526; --g2:#33551A; --g3:#274910; --g4:#163105; --g5:#050F00;
      --b1:#FFF4DE; --b2:#DDB871; --b3:#BE8141; --b4:#5C3A17; --b5:#1C1107;
      --font-text:"Glacial Indifference","Segoe UI",Arial,sans-serif;
      --font-tabs:"SUGO DISPLAY","Glacial Indifference","Segoe UI",Arial,sans-serif;

      --radius: 16px;
      --shadow: 0 18px 45px rgba(0,0,0,.12);
      --shadow-soft: 0 10px 26px rgba(0,0,0,.08);
      --container: 1100px;
    }

    html[data-theme="light"]{
      --bg:#fbfbfc; --panel:#ffffff; --panel-2:#f6f6f7; --text:#151515;
      --muted:rgba(21,21,21,.72); --line:rgba(21,21,21,.12); --card:#ffffff;
      --card-hover:#ececed; --accent: var(--g2); --accent-2: var(--b3);
    }
    html[data-theme="dark"]{
      --bg:#0b0f0b; --panel:rgba(255,255,255,.06); --panel-2:rgba(255,255,255,.04);
      --text:rgba(255,255,255,.92); --muted:rgba(255,255,255,.70); --line:rgba(255,255,255,.14);
      --card:rgba(255,255,255,.06); --card-hover:rgba(255,255,255,.12); --accent: var(--b2); --accent-2: var(--g1);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--font-text);
      background: var(--bg);
      color: var(--text);
      min-height:100vh;
    }
    a{ text-decoration:none; color:inherit; }
    button{ font-family: inherit; }
    .muted{ color: var(--muted); }
    .small{ font-size: 12px; color: var(--muted); }

    /* ===== Barra superior (abas √† direita) ===== */
    .site-topbar{
      position: sticky;
      top: 0;
      z-index: 60;
      background: rgba(255,255,255,.86);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line);
    }
    html[data-theme="dark"] .site-topbar{
      background: rgba(11,15,11,.70);
    }

    .container{
      max-width: var(--container);
      margin: 0 auto;
      padding: 0 18px;
    }

    .topbar-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 10px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 220px;
    }
    .brand-logo{
      width: 38px;
      height: 38px;
      border-radius: 14px;
      background: var(--panel-2);
      border: 1px solid var(--line);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
    }
    .brand-logo img{ width:100%; height:100%; object-fit:cover; }

    .brand-path{
      font-family: var(--font-tabs);
      font-size: 13px;
      letter-spacing: .08em;
      text-transform: uppercase;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      max-width: 360px;
    }
    .brand-path b{ font-weight: 700; }
    .brand-path .sep{ opacity: .55; margin: 0 6px; }

    .nav-right{
      display:flex;
      align-items:center;
      gap: 10px;
      flex: 1;
      justify-content: flex-end; /* ‚úÖ abas do lado direito */
    }

    .tabs{
      display:flex;
      align-items:center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }
    .tab-btn{
      font-family:var(--font-tabs);
      border:none;
      cursor:pointer;
      padding: 9px 11px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      letter-spacing:.09em;
      text-transform: uppercase;
      font-size: 11.5px;
      transition: transform .15s, background .15s;
      white-space: nowrap;
    }
    .tab-btn:hover{ transform: translateY(-1px); }
    .tab-btn[aria-selected="true"]{
      background: var(--accent);
      color: #fff;
      border-color: transparent;
    }

    .actions{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-shrink:0;
    }
    .iconbtn{
      height:40px; width:44px;
      border:none;
      border-radius: 14px;
      cursor:pointer;
      background: var(--panel-2);
      color: var(--text);
      border:1px solid var(--line);
      display:flex; align-items:center; justify-content:center;
      transition: transform .15s, background .15s;
    }
    .iconbtn:hover{
      background: var(--accent-2);
      color:#fff;
      transform: translateY(-1px);
    }

    /* ===== Hero full width (banner faixa) ===== */
    .hero{
      position: relative;
      width: 100%;
      min-height: 64vh; /* bem chamativo */
      display:flex;
      align-items: stretch;
      justify-content: center;
      overflow: hidden;
      background: #000;
    }
    .hero-bg{
      position:absolute;
      inset:0;
      background-size: cover;
      background-position: center;
      transform: scale(1.03);
      filter: saturate(1.02);
    }
    .hero-overlay{
      position:absolute;
      inset:0;
      background:
        linear-gradient(90deg, rgba(0,0,0,.62) 0%, rgba(0,0,0,.30) 55%, rgba(0,0,0,.50) 100%),
        linear-gradient(180deg, rgba(0,0,0,.30) 0%, rgba(0,0,0,.25) 40%, rgba(0,0,0,.65) 100%);
    }
    .hero-content{
      position: relative;
      width: 100%;
      max-width: var(--container);
      margin: 0 auto;
      padding: 86px 18px 48px;
      display:flex;
      flex-direction: column;
      justify-content: flex-end;
      gap: 14px;
      color: #fff;
      z-index: 2;
    }
    .hero-kicker{
      font-family: var(--font-tabs);
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: 12px;
      opacity: .92;
    }
    .hero-title{
      margin:0;
      font-family: var(--font-tabs);
      font-size: clamp(34px, 5vw, 58px);
      line-height: 1.05;
      letter-spacing: .04em;
      text-transform: uppercase;
      text-shadow: 0 12px 26px rgba(0,0,0,.35);
    }
    .hero-sub{
      margin:0;
      max-width: 720px;
      color: rgba(255,255,255,.86);
      line-height: 1.65;
      font-size: 15px;
    }
    .hero-cta{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 8px;
    }
    .btn{
      border:none;
      cursor:pointer;
      padding: 11px 14px;
      border-radius: 14px;
      background: rgba(255,255,255,.14);
      color: #fff;
      border: 1px solid rgba(255,255,255,.22);
      transition: transform .15s, background .15s;
      font-family: var(--font-tabs);
      letter-spacing: .10em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.22); }
    .btn-primary{
      background: rgba(51,85,26,.78); /* usa seu verde */
      border-color: rgba(255,255,255,.12);
    }
    .btn-primary:hover{ background: rgba(51,85,26,.92); }

    /* ===== Conte√∫do com margens laterais ===== */
    .content-wrap{
      padding: 22px 0 0;
    }

    .panel{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius: var(--radius);
      margin: 0 0 16px;
      box-shadow: var(--shadow-soft);
      overflow: hidden;
    }
    .panel-inner{
      padding: 18px;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(12, 1fr);
      gap:16px;
    }
    .card{
      grid-column: span 12;
      background:var(--panel-2);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 18px;
      transition: background .15s, transform .15s;
      box-shadow: var(--shadow-soft);
    }
    .card:hover{ background:var(--card-hover); transform: translateY(-1px); }
    .grid .card.half { grid-column: span 6; }
    .projects .card{ grid-column: span 6; }
    .members .card{ grid-column: span 4; }

    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin: 0 0 10px;
    }
    .section-title h3{ margin:0; font-size: 15px; letter-spacing:.2px; }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--muted);
      white-space: nowrap;
    }

    /* ===== bloco institucional (item 5) ===== */
    .inst{
      display:flex;
      flex-direction: column;
      gap: 8px;
      line-height: 1.65;
    }
    .inst strong{ font-weight: 700; }
    .inst a{ color: var(--accent); }

    /* ===== Integrantes ===== */
    .member{ display:flex; gap:14px; align-items:center; }
    .avatar-fallback{
      width:64px; height:64px;
      background: var(--line);
      display:flex; align-items:center; justify-content:center;
      font-weight:700; font-size:18px;
      flex-shrink:0;
      border-radius: 14px;
    }
    .avatar-photo{
      width:64px; height:64px;
      object-fit:cover;
      display:block;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel);
    }
    .member-title{ display:flex; align-items:baseline; gap:6px; flex-wrap:nowrap; }
    .member-name{
      font-size: 14px;
      font-weight: 700;
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
      max-width: 240px;
    }
    .member-role-inline{ font-weight:400; color:var(--muted); white-space:nowrap; font-size: 12px; }
    .member-info small{ color:var(--muted); font-size:12px; display:block; margin-top: 4px; }

    .ln-link{ display:inline-flex; align-items:center; transition: transform 0.2s; margin-top: 8px; }
    .ln-link:hover{ transform: scale(1.08); }
    .ln-ico{ width:18px; height:18px; display:block; object-fit: contain; }

    /* ===== Toolbar ===== */
    .toolbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 12px;
    }
    .toolbar-left{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .toolbar-right{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .select{
      height: 40px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 10px;
      cursor:pointer;
    }
    .input{
      height: 40px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 12px;
      min-width: 260px;
      outline:none;
    }
    .count{
      font-size: 12px;
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: var(--panel);
    }

    /* ===== Mapa s√≥ no contato ===== */
    .map-container{
      width: 100%;
      height: 260px;
      margin-top: 10px;
      border:0;
      border-radius: var(--radius);
      filter: grayscale(1);
      transition: 0.3s;
    }
    .map-container:hover{ filter: grayscale(0); }

    /* ===== Tabs ===== */
    .tab-panel{ display:none; }
    .tab-panel.active{ display:block; }

    /* ===== Modal de busca ===== */
    .modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 100;
    }
    .modal.open{ display:flex; }
    .modal-card{
      width: min(860px, 100%);
      background: var(--bg);
      border: 1px solid var(--line);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 14px;
      background: var(--panel);
      border-bottom: 1px solid var(--line);
    }
    .modal-head strong{ font-size: 14px; }
    .modal-body{ padding: 14px; }
    .modal-input{
      width:100%;
      height: 44px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 12px;
      outline:none;
      font-size: 14px;
    }
    .results{
      margin-top: 12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height: 52vh;
      overflow:auto;
      padding-right: 4px;
    }
    .result-item{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel);
      transition: transform .15s, background .15s;
      cursor:pointer;
    }
    .result-item:hover{ background: var(--panel-2); transform: translateY(-1px); }
    .result-item .type{
      font-size: 11px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 4px;
    }
    .result-item .title{ font-weight: 700; margin: 0; font-size: 14px; }
    .result-item .desc{ margin: 6px 0 0; color: var(--muted); font-size: 12px; line-height: 1.45; }
    .hl{ background: rgba(190,129,65,.25); padding: 0 3px; border-radius: 6px; }

    /* ===== Footer padr√£o (item 9) ===== */
    .footer{
      margin-top: 18px;
      background: var(--g5);
      color: rgba(255,255,255,.88);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .footer .container{
      padding: 22px 18px;
      display:flex;
      flex-wrap: wrap;
      gap: 18px;
      align-items: center;
      justify-content: space-between;
    }
    .footer .left{
      display:flex;
      align-items:center;
      gap: 14px;
      min-width: 260px;
    }
    .footer .logo{
      width: 54px;
      height: 54px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .footer .logo img{ width:100%; height:100%; object-fit:cover; }
    .footer .links{
      display:flex;
      flex-direction: column;
      gap: 6px;
      font-size: 12px;
      letter-spacing:.08em;
      text-transform: uppercase;
      font-family: var(--font-tabs);
      opacity: .92;
    }
    .footer .mid{
      display:flex;
      gap: 16px;
      align-items:flex-start;
      flex-wrap: wrap;
      justify-content: flex-end;
      text-align: right;
      flex: 1;
    }
    .footer .mid .block{
      max-width: 320px;
      font-size: 12px;
      line-height: 1.6;
      opacity: .92;
    }
    .footer .bottom{
      width: 100%;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,.10);
      font-size: 12px;
      opacity: .75;
      display:flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* ===== Responsivo ===== */
    @media (max-width: 1100px){
      .members .card{ grid-column: span 12; }
      .projects .card{ grid-column: span 12; }
      .brand-path{ max-width: 220px; }
      .hero-content{ padding-top: 78px; }
    }
    @media (max-width: 920px){
      .tabs{ gap: 6px; }
      .tab-btn{ font-size: 11px; padding: 8px 10px; }
      .nav-right{ gap: 8px; }
    }
    @media (max-width: 780px){
      .topbar-row{ gap: 10px; }
      .brand{ min-width: 0; }
      .brand-path{ display:none; } /* no mobile some o ‚ÄúGISPRAD | Aba‚Äù */
      .input{ min-width: 200px; width: 100%; }
      .hero{ min-height: 70vh; }
      .hero-content{ padding-top: 90px; }
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <header class="site-topbar">
    <div class="container">
      <div class="topbar-row">
        <div class="brand">
          <div class="brand-logo">
            <img src="Logo_2025_sem_fundo.png" alt="GISPRAD">
          </div>
          <div class="brand-path" id="topPath">
            <b>GISPRAD</b><span class="sep">|</span><span id="topSection">Inicial</span>
          </div>
        </div>

        <div class="nav-right">
          <nav class="tabs" role="tablist" aria-label="Navega√ß√£o do site">
            <button class="tab-btn" role="tab" aria-selected="true"  data-tab="tab-gisprad">GISPRAD</button>
            <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-projetos">PROJETOS</button>
            <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-pubs">PUBLICA√á√ïES</button>
            <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-integrantes">INTEGRANTES</button>
            <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-contato">CONTATO</button>
          </nav>

          <div class="actions">
            <button class="iconbtn" id="btn-search" title="Pesquisar (Ctrl/‚åò K)" aria-label="Pesquisar">üîç</button>
            <button class="iconbtn" id="btn-theme" title="Alternar tema" aria-label="Alternar tema">üåì</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero (full width) -->
  <section class="hero" id="hero">
    <div class="hero-bg" id="heroBg"></div>
    <div class="hero-overlay"></div>

    <div class="hero-content">
      <div class="hero-kicker">Geotecnologias ‚Ä¢ An√°lise Espacial ‚Ä¢ WebGIS</div>
      <h1 class="hero-title">GISPRAD</h1>
      <p class="hero-sub">
        Laborat√≥rio voltado √† pesquisa e aplica√ß√£o de solu√ß√µes em geoprocessamento, sensoriamento remoto e integra√ß√£o de dados
        para suporte √† tomada de decis√£o.
      </p>

      <div class="hero-cta">
        <button class="btn btn-primary" id="ctaProjects">Ver projetos</button>
        <button class="btn" id="ctaMembers">Conhecer a equipe</button>
        <button class="btn" id="ctaContact">Contato</button>
      </div>
    </div>
  </section>

  <!-- Conte√∫do (com margens laterais via container) -->
  <main class="content-wrap">
    <div class="container">

      <!-- ====== GISPRAD ====== -->
      <section class="tab-panel active" id="tab-gisprad">
        <div class="panel">
          <div class="panel-inner">
            <div class="grid">
              <div class="card half">
                <div class="section-title">
                  <h3>Sobre o laborat√≥rio</h3>
                  <span class="badge">Institucional</span>
                </div>
                <p class="muted" style="margin:0; line-height:1.75;">
                  O GISPRAD desenvolve m√©todos e ferramentas para an√°lise espacial, automa√ß√£o de fluxos de dados e visualiza√ß√£o
                  de informa√ß√µes geogr√°ficas em ambientes WebGIS.
                </p>

                <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px;">
                  <span class="badge">Geoprocessamento</span>
                  <span class="badge">Sensoriamento Remoto</span>
                  <span class="badge">WebGIS</span>
                  <span class="badge">Ci√™ncia de Dados</span>
                </div>
              </div>

              <div class="card half">
                <div class="section-title">
                  <h3>V√≠nculo institucional</h3>
                  <span class="badge">UFPR</span>
                </div>
                <div class="inst">
                  <div><strong>Universidade:</strong> Universidade Federal do Paran√° (UFPR)</div>
                  <div><strong>Departamento:</strong> Depto. de Geom√°tica</div>
                  <div><strong>Programa:</strong> PPG em Ci√™ncias Geod√©sicas</div>
                  <div><strong>Local:</strong> Campus Bot√¢nico, Curitiba ‚Äî PR</div>
                  <div class="muted small">Essas informa√ß√µes tamb√©m aparecem no Contato.</div>
                </div>
              </div>

              <div class="card" style="grid-column: span 12; border-left: 4px solid var(--accent);">
                <div class="section-title">
                  <h3>Linhas de pesquisa</h3>
                  <span class="badge" id="badgeLines">4 linhas</span>
                </div>
                <ul style="margin: 8px 0 0 18px; line-height: 1.9; color: var(--muted);">
                  <li>Geoprocessamento e An√°lise Espacial</li>
                  <li>Sensoriamento Remoto Aplicado</li>
                  <li>Sistemas de Informa√ß√£o Geogr√°fica na Web (WebGIS)</li>
                  <li>Automa√ß√£o e Ci√™ncia de Dados Ambientais</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- footer padr√£o -->
        <footer class="footer" data-footer></footer>
      </section>

      <!-- ====== PROJETOS ====== -->
      <section class="tab-panel" id="tab-projetos">
        <div class="panel">
          <div class="panel-inner">
            <div class="toolbar">
              <div class="toolbar-left">
                <input class="input" id="projectsSearch" placeholder="Filtrar projetos..." />
                <span class="count" id="projectsCount">0</span>
              </div>
              <div class="toolbar-right">
                <select class="select" id="projectsSort" aria-label="Ordenar projetos">
                  <option value="az">Ordenar: A‚ÄìZ</option>
                  <option value="za">Ordenar: Z‚ÄìA</option>
                </select>
              </div>
            </div>

            <div class="grid projects" id="projectsGrid"></div>
            <p class="small" id="projectsEmpty" style="display:none; margin: 10px 0 0;">Nenhum projeto encontrado.</p>
          </div>
        </div>

        <footer class="footer" data-footer></footer>
      </section>

      <!-- ====== PUBLICA√á√ïES ====== -->
      <section class="tab-panel" id="tab-pubs">
        <div class="panel">
          <div class="panel-inner">
            <div class="toolbar">
              <div class="toolbar-left">
                <input class="input" id="pubsSearch" placeholder="Filtrar publica√ß√µes..." />
                <span class="count" id="pubsCount">0</span>
              </div>
              <div class="toolbar-right">
                <select class="select" id="pubsSort" aria-label="Ordenar publica√ß√µes">
                  <option value="az">Ordenar: A‚ÄìZ</option>
                  <option value="za">Ordenar: Z‚ÄìA</option>
                </select>
              </div>
            </div>

            <div class="grid pubs" id="pubsGrid"></div>
            <p class="small" id="pubsEmpty" style="display:none; margin: 10px 0 0;">Nenhuma publica√ß√£o encontrada.</p>
          </div>
        </div>

        <footer class="footer" data-footer></footer>
      </section>

      <!-- ====== INTEGRANTES ====== -->
      <section class="tab-panel" id="tab-integrantes">
        <div class="panel">
          <div class="panel-inner">
            <div class="toolbar">
              <div class="toolbar-left">
                <input class="input" id="membersSearch" placeholder="Filtrar integrantes..." />
                <span class="count" id="membersCount">0</span>
              </div>
              <div class="toolbar-right">
                <select class="select" id="membersFilter" aria-label="Filtrar por n√≠vel">
                  <option value="all">N√≠vel: Todos</option>
                  <option value="Professor Orientador">Professor Orientador</option>
                  <option value="P√≥s-doc">P√≥s-doc</option>
                  <option value="Doutorado">Doutorado</option>
                  <option value="Mestrado">Mestrado</option>
                  <option value="Gradua√ß√£o">Gradua√ß√£o</option>
                </select>
                <select class="select" id="membersSort" aria-label="Ordenar integrantes">
                  <option value="az">Ordenar: A‚ÄìZ</option>
                  <option value="za">Ordenar: Z‚ÄìA</option>
                </select>
              </div>
            </div>

            <div class="grid members" id="membersGrid"></div>
            <p class="small" id="membersEmpty" style="display:none; margin: 10px 0 0;">Nenhum integrante encontrado.</p>
          </div>
        </div>

        <footer class="footer" data-footer></footer>
      </section>

      <!-- ====== CONTATO (com mapa) ====== -->
      <section class="tab-panel" id="tab-contato">
        <div class="panel">
          <div class="panel-inner">
            <div class="grid">
              <div class="card half">
                <div class="section-title">
                  <h3>Contato</h3>
                  <span class="badge">E-mail e redes</span>
                </div>
                <p style="margin:0 0 8px;"><b>E-mail:</b>
                  <a href="mailto:contato@gisprad.org" style="color: var(--accent);">contato@gisprad.org</a>
                </p>
                <p style="margin:0 0 8px;"><b>Instagram:</b>
                  <a href="https://instagram.com/gisprad" target="_blank" rel="noopener" style="color: var(--accent);">@gisprad</a>
                </p>
                <p style="margin:0;"><b>V√≠nculo:</b> Depto. de Geom√°tica / PPG em Ci√™ncias Geod√©sicas - UFPR.</p>

                <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top: 12px;">
                  <button class="btn" id="copyEmail" style="color:#fff;">Copiar e-mail</button>
                  <button class="btn" id="openIG" style="color:#fff;">Abrir Instagram</button>
                </div>
              </div>

              <div class="card half">
                <div class="section-title">
                  <h3>Localiza√ß√£o</h3>
                  <span class="badge">UFPR ‚Ä¢ Campus Bot√¢nico</span>
                </div>
                <p style="margin:0;">
                  UFPR ‚Äî Campus Bot√¢nico.<br>
                  <small class="small">Av. Prefeito Loth√°rio Meissner, 632</small>
                </p>

                <iframe class="map-container"
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3602.834743204961!2d-49.2391757!3d-25.4437905!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94dce50866509f6b%3A0x6b77c38c8236c53e!2sAv.%20Prefeito%20Loth%C3%A1rio%20Meissner%2C%20632!5e0!3m2!1spt-BR!2sbr!4v1700000000000"
                  allowfullscreen="" loading="lazy"></iframe>
              </div>
            </div>
          </div>
        </div>

        <footer class="footer" data-footer></footer>
      </section>

    </div>
  </main>

  <!-- Modal de busca -->
  <div class="modal" id="searchModal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Pesquisar no site">
      <div class="modal-head">
        <strong>Pesquisar no site</strong>
        <button class="iconbtn" id="closeModal" aria-label="Fechar">‚úï</button>
      </div>
      <div class="modal-body">
        <input id="modalSearchInput" class="modal-input" placeholder="Buscar em projetos, publica√ß√µes e integrantes..." />
        <div class="results" id="searchResults"></div>
        <p class="small muted" style="margin: 10px 0 0;">
          Atalho: <b>Ctrl/‚åò K</b> ‚Ä¢ <b>Esc</b> para fechar
        </p>
      </div>
    </div>
  </div>

  <script>
    // ===== Config de imagens =====
    const BANNER_SRC = "banner_gisprad.jpg"; // (1) banner full width
    const LINKEDIN_ICON = `<img src="logo_linkedin.png" alt="LinkedIn" class="ln-ico">`;

    // ===== Dados (exemplos ‚Äî voc√™ pode editar) =====
    const members = [
      { photo: "Logo_2025_sem_fundo.png", name: "√Ålvaro P. Berghetti", role: "Professor Orientador", email: "alvaro.berghetti@ufpr.br", link: "https://www.linkedin.com/in/alvaro-berghetti-82b6b5158/" },
      { name: "Viviane Maia Corr√™a", role: "Doutorado", email: "viviane.correa@ufpr.br", link: "#" },
      { name: "Cleberson Porath", role: "Mestrado", email: "cleberson.porath@ufpr.br", link: "https://www.linkedin.com/in/cleberson-porath/" },
      { name: "Eduardo Praxedes B. Raymundo", role: "Mestrado", email: "eduardopraxedes@ufpr.br", link: "https://www.linkedin.com/in/eduardo-praxedes-189468160/" },
      { name: "Julia Silva Rodrigues", role: "Mestrado", email: "julia.s.rodrigues.21@ufpr.br", link: "https://www.linkedin.com/in/julia-rodrigues-0a92b2160/" },
      { name: "Juliana Hoepers M. Tedesco", role: "Mestrado", email: "juliana.tedesco@ufpr.br", link: "https://www.linkedin.com/in/juliana-tedesco/" },
      { name: "Kemelyn Hack Pires", role: "Mestrado", email: "kemelynpires@ufpr.br", link: "https://www.linkedin.com/in/kemelyn-hack-pires-a254ba1b2/" },
      { name: "Lucas Soares Miguez", role: "Mestrado", email: "lucas.miguez@ufpr.br", link: "https://www.linkedin.com/in/lucas-miguez-166814248/" },
      { name: "Patr√≠cia Portela Feldmann", role: "Mestrado", email: "patricia.feldmann@ufpr.br", link: "https://www.linkedin.com/in/patricia-portela-feldmann-a502b798/" },
      { name: "Thain√° Alo√≠sio Saraiva", role: "Mestrado", email: "thaina.aloisio@ufpr.br", link: "https://www.linkedin.com/in/thainaasaraiva/" },
      { name: "Agnes Aleixo da Luz", role: "Gradua√ß√£o", email: "agnes.luz@ufpr.br", link: "https://www.linkedin.com/in/agnes-aleixo-da-luz-3aa1343a9/" },
      { name: "Carolina Pulido Arce", role: "Gradua√ß√£o", email: "carolinaarce@ufpr.br", link: "https://www.linkedin.com/in/carolina-pulido-arce/" },
      { name: "Ruan Pablo da Trindade", role: "Gradua√ß√£o", email: "ruantrindade@ufpr.br", link: "https://www.linkedin.com/in/rptrindade/" }
    ];

    const projects = [
      { title: "Monitoramento Ambiental", desc: "Uso de sensoriamento remoto e s√©ries temporais para diagn√≥stico de mudan√ßas ambientais.", tags:["Sensoriamento Remoto","Ambiente"] },
      { title: "WebGIS Institucional", desc: "Plataforma interativa para publica√ß√£o e explora√ß√£o de dados geogr√°ficos.", tags:["WebGIS","SIG"] },
      { title: "Automa√ß√£o de Processos", desc: "Rotinas para padroniza√ß√£o e integra√ß√£o de bases geoespaciais e indicadores.", tags:["Automa√ß√£o","Dados"] }
    ];

    const publications = [
      { title: "Produ√ß√£o cient√≠fica (exemplo)", desc: "Artigo/Evento ‚Ä¢ 2025 ‚Ä¢ Autores do GISPRAD", link:"#", tags:["2025","Artigo"] }
    ];

    // ===== Utilidades =====
    function getIniciais(n){
      return n.split(" ").map(x => x[0]).join("").substring(0,2).toUpperCase();
    }
    function norm(s){
      return (s || "").toString().normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
    }
    function escapeHtml(str){
      return (str || "").replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }
    function highlight(text, q){
      if(!q) return escapeHtml(text);
      const ntext = norm(text);
      const nq = norm(q).trim();
      if(!nq) return escapeHtml(text);
      const idx = ntext.indexOf(nq);
      if(idx < 0) return escapeHtml(text);
      const pre = text.slice(0, idx);
      const mid = text.slice(idx, idx + q.length);
      const post = text.slice(idx + q.length);
      return `${escapeHtml(pre)}<span class="hl">${escapeHtml(mid)}</span>${escapeHtml(post)}`;
    }

    // ===== Footer padr√£o (9) =====
    function renderFooter(el){
      const year = new Date().getFullYear();
      el.innerHTML = `
        <div class="container">
          <div class="left">
            <div class="logo"><img src="Logo_2025_sem_fundo.png" alt="GISPRAD"></div>
            <div class="links">
              <span>GISPRAD</span>
              <span class="small" style="opacity:.75; letter-spacing:.02em; text-transform:none; font-family:var(--font-text);">
                Geotecnologias ‚Ä¢ An√°lise Espacial ‚Ä¢ WebGIS
              </span>
            </div>
          </div>

          <div class="mid">
            <div class="block">
              <b>UFPR ‚Äî Campus Bot√¢nico</b><br>
              Depto. de Geom√°tica / PPG em Ci√™ncias Geod√©sicas<br>
              Curitiba ‚Äî PR, Brasil
            </div>
            <div class="block">
              <b>Contato</b><br>
              contato@gisprad.org<br>
              Instagram: @gisprad
            </div>
          </div>

          <div class="bottom">
            <span>¬© ${year} GISPRAD</span>
            <span style="opacity:.6;">Site institucional</span>
          </div>
        </div>
      `;
    }

    // ===== Render Projects =====
    let projectsView = [...projects];

    function projectCard(p){
      const tags = (p.tags || []).map(t => `<span class="badge">${escapeHtml(t)}</span>`).join(" ");
      return `
        <article class="card" data-title="${escapeHtml(p.title)}">
          <div class="section-title">
            <h3>${escapeHtml(p.title)}</h3>
            <span class="badge">Projeto</span>
          </div>
          <p class="muted" style="margin:0; line-height:1.7;">${escapeHtml(p.desc)}</p>
          ${tags ? `<div style="display:flex; gap:10px; flex-wrap:wrap; margin-top: 12px;">${tags}</div>` : ``}
        </article>
      `;
    }

    function renderProjects(){
      const grid = document.getElementById("projectsGrid");
      const empty = document.getElementById("projectsEmpty");
      const count = document.getElementById("projectsCount");
      if(!grid) return;

      grid.innerHTML = projectsView.map(projectCard).join("");
      count.textContent = `${projectsView.length} projeto(s)`;
      empty.style.display = projectsView.length ? "none" : "block";
    }

    function applyProjectsFilters(){
      const q = norm(document.getElementById("projectsSearch").value);
      const sort = document.getElementById("projectsSort").value;

      projectsView = projects
        .filter(p => !q || norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`).includes(q))
        .sort((a,b) => sort === "az" ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));

      renderProjects();
    }

    // ===== Render Publications =====
    let pubsView = [...publications];

    function pubCard(p){
      const tags = (p.tags || []).map(t => `<span class="badge">${escapeHtml(t)}</span>`).join(" ");
      const link = (p.link && p.link !== "#")
        ? `<a class="badge" href="${p.link}" target="_blank" rel="noopener">Abrir</a>`
        : ``;

      return `
        <article class="card" data-title="${escapeHtml(p.title)}">
          <div class="section-title">
            <h3>${escapeHtml(p.title)}</h3>
            <span class="badge">Publica√ß√£o</span>
          </div>
          <p class="muted" style="margin:0; line-height:1.7;">${escapeHtml(p.desc || "")}</p>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top: 12px;">
            ${link}
            ${tags}
          </div>
        </article>
      `;
    }

    function renderPubs(){
      const grid = document.getElementById("pubsGrid");
      const empty = document.getElementById("pubsEmpty");
      const count = document.getElementById("pubsCount");
      if(!grid) return;

      grid.innerHTML = pubsView.map(pubCard).join("");
      count.textContent = `${pubsView.length} publica√ß√£o(√µes)`;
      empty.style.display = pubsView.length ? "none" : "block";
    }

    function applyPubsFilters(){
      const q = norm(document.getElementById("pubsSearch").value);
      const sort = document.getElementById("pubsSort").value;

      pubsView = publications
        .filter(p => !q || norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`).includes(q))
        .sort((a,b) => sort === "az" ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));

      renderPubs();
    }

    // ===== Render Members =====
    let membersView = [...members];

    function memberCard(m){
      const hasValidLink = m.link && m.link !== "#";
      const ln = hasValidLink
        ? `<a href="${m.link}" class="ln-link" target="_blank" rel="noopener" title="LinkedIn">${LINKEDIN_ICON}</a>`
        : ``; // (8) sem nada se n√£o tiver

      return `
        <article class="card" data-name="${escapeHtml(m.name)}" data-role="${escapeHtml(m.role)}">
          <div class="member">
            ${m.photo
              ? `<img src="${m.photo}" alt="Foto de ${escapeHtml(m.name)}" class="avatar-photo"
                   onerror="this.style.display='none'; this.insertAdjacentHTML('afterend', '<div class=&quot;avatar-fallback&quot;>${getIniciais(m.name)}</div>')">`
              : `<div class="avatar-fallback">${getIniciais(m.name)}</div>`
            }
            <div class="member-info" style="min-width:0;">
              <div class="member-title">
                <span class="member-name" title="${escapeHtml(m.name)}">${escapeHtml(m.name)}</span>
                <span class="member-role-inline">| ${escapeHtml(m.role)}</span>
              </div>
              <small>${escapeHtml(m.email)}</small>
              ${ln}
            </div>
          </div>
        </article>
      `;
    }

    function renderMembers(){
      const grid = document.getElementById("membersGrid");
      const empty = document.getElementById("membersEmpty");
      const count = document.getElementById("membersCount");
      if(!grid) return;

      grid.innerHTML = membersView.map(memberCard).join("");
      count.textContent = `${membersView.length} integrante(s)`;
      empty.style.display = membersView.length ? "none" : "block";
    }

    function applyMembersFilters(){
      const q = norm(document.getElementById("membersSearch").value);
      const level = document.getElementById("membersFilter").value;
      const sort = document.getElementById("membersSort").value;

      membersView = members
        .filter(m => {
          const okLevel = (level === "all") ? true : (m.role === level);
          const okText = !q || norm(`${m.name} ${m.role} ${m.email}`).includes(q);
          return okLevel && okText;
        })
        .sort((a,b) => sort === "az" ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name));

      renderMembers();
    }

    // ===== Tabs meta + t√≠tulo do navegador (7) =====
    const meta = {
      "tab-gisprad":      { top: "Inicial",      tabTitle: "GISPRAD" },
      "tab-projetos":     { top: "Projetos",     tabTitle: "Projetos" },
      "tab-pubs":         { top: "Publica√ß√µes",  tabTitle: "Publica√ß√µes" },
      "tab-integrantes":  { top: "Integrantes",  tabTitle: "Integrantes" },
      "tab-contato":      { top: "Contato",      tabTitle: "Contato" }
    };

    function setActiveTab(tid){
      document.querySelectorAll(".tab-btn").forEach(b => b.setAttribute("aria-selected","false"));
      document.querySelectorAll(".tab-panel").forEach(p => p.classList.remove("active"));

      document.querySelector(`.tab-btn[data-tab="${tid}"]`)?.setAttribute("aria-selected","true");
      document.getElementById(tid)?.classList.add("active");

      document.getElementById("topSection").textContent = meta[tid].top;

      // (7) t√≠tulo do navegador no formato "Equipe | Laborat√≥rio"
      document.title = `${meta[tid].tabTitle} | GISPRAD`;

      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // ===== Tema =====
    function toggleTheme(){
      const theme = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
    }
    function loadTheme(){
      const saved = localStorage.getItem("theme");
      if(saved === "light" || saved === "dark"){
        document.documentElement.setAttribute("data-theme", saved);
      }
    }

    // ===== Modal busca =====
    const modal = document.getElementById("searchModal");
    const modalInput = document.getElementById("modalSearchInput");
    const resultsEl = document.getElementById("searchResults");

    function openModal(){
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      modalInput.value = "";
      renderSearchResults("");
      setTimeout(() => modalInput.focus(), 50);
    }
    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
    }

    function renderSearchResults(q){
      const nq = norm(q).trim();
      const results = [];

      projects.forEach(p => {
        const hay = norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Projeto", title:p.title, desc:p.desc, go: () => { setActiveTab("tab-projetos"); closeModal(); } });
        }
      });

      publications.forEach(p => {
        const hay = norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Publica√ß√£o", title:p.title, desc:p.desc || "", go: () => { setActiveTab("tab-pubs"); closeModal(); } });
        }
      });

      members.forEach(m => {
        const hay = norm(`${m.name} ${m.role} ${m.email}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Integrante", title:`${m.name} ‚Ä¢ ${m.role}`, desc:m.email, go: () => { setActiveTab("tab-integrantes"); closeModal(); } });
        }
      });

      resultsEl.innerHTML = results.slice(0, 30).map(r => `
        <div class="result-item" role="button" tabindex="0">
          <div class="type">${escapeHtml(r.type)}</div>
          <p class="title">${highlight(r.title, q)}</p>
          <p class="desc">${highlight(r.desc || "", q)}</p>
        </div>
      `).join("");

      [...resultsEl.querySelectorAll(".result-item")].forEach((el, idx) => {
        el.addEventListener("click", () => results[idx].go());
        el.addEventListener("keydown", (e) => { if(e.key === "Enter") results[idx].go(); });
      });

      if(results.length === 0){
        resultsEl.innerHTML = `<div class="result-item"><div class="type">Sem resultados</div><p class="title">Nada encontrado</p><p class="desc">Tentar outro termo.</p></div>`;
      }
    }

    // ===== Hero banner =====
    function setHeroBanner(){
      const el = document.getElementById("heroBg");
      el.style.backgroundImage = `url('${BANNER_SRC}')`;

      // fallback se imagem n√£o existir
      const img = new Image();
      img.onload = () => {};
      img.onerror = () => {
        el.style.backgroundImage =
          "radial-gradient(900px 360px at 20% 20%, rgba(190,129,65,.28), transparent 60%)," +
          "radial-gradient(720px 320px at 80% 30%, rgba(67,101,38,.24), transparent 60%)," +
          "linear-gradient(135deg, #0b0f0b, #1b241b)";
      };
      img.src = BANNER_SRC;
    }

    // ===== Init =====
    loadTheme();
    setHeroBanner();

    // footers
    document.querySelectorAll("[data-footer]").forEach(renderFooter);

    // render grids
    renderProjects();
    renderPubs();
    renderMembers();

    // tabs
    document.querySelectorAll(".tab-btn").forEach(btn => {
      btn.onclick = () => setActiveTab(btn.dataset.tab);
    });

    // actions
    document.getElementById("btn-theme").onclick = toggleTheme;
    document.getElementById("btn-search").onclick = openModal;
    document.getElementById("closeModal").onclick = closeModal;

    modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
    document.addEventListener("keydown", (e) => {
      const isCmdK = (e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "k";
      if(isCmdK){ e.preventDefault(); openModal(); }
      if(e.key === "Escape"){ closeModal(); }
    });
    modalInput.addEventListener("input", (e) => renderSearchResults(e.target.value));

    // filtros
    document.getElementById("projectsSearch").addEventListener("input", applyProjectsFilters);
    document.getElementById("projectsSort").addEventListener("change", applyProjectsFilters);

    document.getElementById("pubsSearch").addEventListener("input", applyPubsFilters);
    document.getElementById("pubsSort").addEventListener("change", applyPubsFilters);

    document.getElementById("membersSearch").addEventListener("input", applyMembersFilters);
    document.getElementById("membersFilter").addEventListener("change", applyMembersFilters);
    document.getElementById("membersSort").addEventListener("change", applyMembersFilters);

    // contato
    document.getElementById("copyEmail").onclick = async () => {
      try{ await navigator.clipboard.writeText("contato@gisprad.org"); alert("E-mail copiado: contato@gisprad.org"); }
      catch(e){ alert("N√£o foi poss√≠vel copiar automaticamente. Copiar manualmente: contato@gisprad.org"); }
    };
    document.getElementById("openIG").onclick = () => window.open("https://instagram.com/gisprad", "_blank", "noopener");

    // CTA hero
    document.getElementById("ctaProjects").onclick = () => setActiveTab("tab-projetos");
    document.getElementById("ctaMembers").onclick = () => setActiveTab("tab-integrantes");
    document.getElementById("ctaContact").onclick = () => setActiveTab("tab-contato");

    // start
    setActiveTab("tab-gisprad");
  </script>
</body>
</html>

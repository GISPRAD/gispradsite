<!doctype html>
<html lang="pt-br" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GISPRAD</title>
  <link rel="icon" type="image/png" href="Logo_2025_sem_fundo.png">

  <style>
    @font-face{
      font-family:"Glacial Indifference";
      src:url("fonts/GlacialIndifference-Regular.woff2") format("woff2"),
          url("fonts/GlacialIndifference-Regular.woff") format("woff");
      font-weight:400; font-style:normal; font-display:swap;
    }
    @font-face{
      font-family:"Glacial Indifference";
      src:url("fonts/GlacialIndifference-Bold.woff2") format("woff2"),
          url("fonts/GlacialIndifference-Bold.woff") format("woff");
      font-weight:700; font-style:normal; font-display:swap;
    }
    @font-face{
      font-family:"SUGO DISPLAY";
      src:url("fonts/SugoDisplay.woff2") format("woff2"),
          url("fonts/SugoDisplay.woff") format("woff");
      font-weight:400; font-style:normal; font-display:swap;
    }

    :root{
      --g1:#436526; --g2:#33551A; --g3:#274910; --g4:#163105; --g5:#050F00;
      --b1:#FFF4DE; --b2:#DDB871; --b3:#BE8141; --b4:#5C3A17; --b5:#1C1107;
      --font-text:"Glacial Indifference","Segoe UI",Arial,sans-serif;
      --font-tabs:"SUGO DISPLAY","Glacial Indifference","Segoe UI",Arial,sans-serif;

      --radius: 14px;
      --shadow: 0 12px 30px rgba(0,0,0,.08);
      --shadow-soft: 0 10px 22px rgba(0,0,0,.06);
    }

    html[data-theme="light"]{
      --bg:#fbfbfc; --panel:#ffffff; --panel-2:#f6f6f7; --text:#151515;
      --muted:rgba(21,21,21,.72); --line:rgba(21,21,21,.12); --card:#ffffff;
      --card-hover:#ececed; --accent: var(--g2); --accent-2: var(--b3);
    }
    html[data-theme="dark"]{
      --bg:#0b0f0b; --panel:rgba(255,255,255,.06); --panel-2:rgba(255,255,255,.04);
      --text:rgba(255,255,255,.92); --muted:rgba(255,255,255,.70); --line:rgba(255,255,255,.14);
      --card:rgba(255,255,255,.06); --card-hover:rgba(255,255,255,.12); --accent: var(--b2); --accent-2: var(--g1);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:var(--font-text);
      background: var(--bg);
      color: var(--text);
      min-height:100vh;
    }
    a{ text-decoration:none; color:inherit; }
    button{ font-family: inherit; }
    .muted{ color: var(--muted); }
    .small{ font-size: 12px; color: var(--muted); }

    /* ===== Header topo (com ‚ÄúGISPRAD | Aba‚Äù) ===== */
    .site-topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      background: var(--panel);
      border-bottom: 1px solid var(--line);
    }

    .topbar-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 18px;
    }

    .topbar-left{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 220px;
    }
    .topbar-logo{
      width: 38px;
      height: 38px;
      border-radius: 12px;
      background: var(--panel-2);
      border: 1px solid var(--line);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
    }
    .topbar-logo img{ width:100%; height:100%; object-fit:cover; }

    /* Texto do topo no estilo: GISPRAD | Integrantes */
    .topbar-path{
      font-family: var(--font-tabs);
      font-size: 13px;
      letter-spacing: .06em;
      text-transform: uppercase;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      max-width: 520px;
    }
    .topbar-path b{
      font-weight: 700;
    }
    .topbar-path .sep{
      opacity: .55;
      margin: 0 6px;
    }

    .topbar-actions{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-shrink:0;
    }
    .iconbtn{
      height:40px; width:44px;
      border:none;
      border-radius: 12px;
      cursor:pointer;
      background: var(--panel-2);
      color: var(--text);
      border:1px solid var(--line);
      display:flex; align-items:center; justify-content:center;
      transition: transform .15s, background .15s;
    }
    .iconbtn:hover{
      background: var(--accent-2);
      color:#fff;
      transform: translateY(-1px);
    }

    /* ===== Abas no topo ===== */
    .tabsbar{
      padding: 0 18px 12px;
    }
    .tabs{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .tab-btn{
      font-family:var(--font-tabs);
      border:none;
      cursor:pointer;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      letter-spacing:.08em;
      text-transform: uppercase;
      font-size: 12px;
      transition: background .15s, transform .15s;
    }
    .tab-btn:hover{ transform: translateY(-1px); }
    .tab-btn[aria-selected="true"]{
      background: var(--accent);
      color: #fff;
      border-color: transparent;
    }

    /* ===== Conte√∫do ===== */
    .content-wrap{
      padding: 18px 22px 26px;
    }
    .panel{
      background:var(--panel);
      padding: 18px;
      border:1px solid var(--line);
      border-radius: var(--radius);
      margin-bottom: 16px;
      box-shadow: var(--shadow-soft);
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(12, 1fr);
      gap:16px;
    }
    .card{
      grid-column:span 12;
      background:var(--panel-2);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 18px;
      transition: background .15s, transform .15s;
      box-shadow: var(--shadow-soft);
    }
    .card:hover{ background:var(--card-hover); transform: translateY(-1px); }
    .grid .card.half { grid-column: span 6; }
    .projects .card{ grid-column:span 6; }
    .members .card{ grid-column:span 4; }

    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin: 0 0 10px;
    }
    .section-title h3{ margin:0; font-size: 15px; letter-spacing:.2px; }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--muted);
      white-space: nowrap;
    }

    /* ===== Hero e KPIs ===== */
    .hero{
      display:flex;
      gap: 16px;
      align-items:stretch;
    }
    .hero-left{ flex: 1.2; min-width:0; }
    .hero-right{ flex: .8; min-width: 280px; }

    .hero-kpis{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 12px;
    }
    .kpi{
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .kpi strong{ display:block; font-size: 16px; }
    .kpi span{ display:block; font-size: 11px; color: var(--muted); margin-top: 2px; }

    .meta-row{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 12px; }
    .meta-chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid var(--line);
      background: var(--panel);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      transition: background .15s, transform .15s;
    }
    .meta-chip:hover{ background: var(--panel-2); transform: translateY(-1px); }

    /* ===== Banner ===== */
    .hero-banner{
      margin-top: 14px;
      border-radius: var(--radius);
      overflow:hidden;
      border: 1px solid var(--line);
      background: var(--panel);
      box-shadow: var(--shadow-soft);
    }
    .hero-banner img{
      width:100%;
      height: 220px;
      object-fit: cover;
      display:block;
      filter: saturate(1.02);
    }
    .hero-banner-caption{
      padding: 10px 12px;
      font-size: 12px;
      color: var(--muted);
      background: var(--panel);
      border-top: 1px solid var(--line);
    }
    .hero-banner-fallback{
      height: 220px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      color: var(--muted);
      background:
        radial-gradient(600px 240px at 20% 20%, rgba(190,129,65,.20), transparent 60%),
        radial-gradient(520px 220px at 80% 30%, rgba(67,101,38,.18), transparent 60%),
        linear-gradient(180deg, var(--panel), var(--panel-2));
      padding: 18px;
      text-align:center;
    }

    /* ===== Integrantes ===== */
    .member{ display:flex; gap:14px; align-items:center; }
    .avatar-fallback{
      width:64px; height:64px;
      background: var(--line);
      display:flex; align-items:center; justify-content:center;
      font-weight:700; font-size:18px;
      flex-shrink:0;
      border-radius: 14px;
    }
    .avatar-photo{
      width:64px; height:64px;
      object-fit:cover;
      display:block;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel);
    }
    .member-title{ display:flex; align-items:baseline; gap:6px; flex-wrap:nowrap; }
    .member-name{
      font-size: 14px;
      font-weight: 700;
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
      max-width: 240px;
    }
    .member-role-inline{ font-weight:400; color:var(--muted); white-space:nowrap; font-size: 12px; }
    .member-info small{ color:var(--muted); font-size:12px; display:block; margin-top: 4px; }

    .ln-link{ display:inline-flex; align-items:center; transition: transform 0.2s; margin-top: 8px; }
    .ln-link:hover{ transform: scale(1.08); }
    .ln-ico{ width:18px; height:18px; display:block; object-fit: contain; }

    /* ===== Toolbar (filtros) ===== */
    .toolbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-bottom: 12px;
    }
    .toolbar-left{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .toolbar-right{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }

    .select{
      height: 40px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 10px;
      cursor:pointer;
    }
    .input{
      height: 40px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 12px;
      min-width: 260px;
      outline:none;
    }
    .count{
      font-size: 12px;
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: var(--panel);
    }

    /* ===== Mapa ===== */
    .map-container{
      width: 100%;
      height: 240px;
      margin-top: 10px;
      border:0;
      border-radius: var(--radius);
      filter: grayscale(1);
      transition: 0.3s;
    }
    .map-container:hover{ filter: grayscale(0); }

    /* ===== Tabs content ===== */
    .tab-panel{ display:none; }
    .tab-panel.active{ display:block; }

    /* ===== Modal de busca ===== */
    .modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 100;
    }
    .modal.open{ display:flex; }
    .modal-card{
      width: min(860px, 100%);
      background: var(--bg);
      border: 1px solid var(--line);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 14px;
      background: var(--panel);
      border-bottom: 1px solid var(--line);
    }
    .modal-head strong{ font-size: 14px; }
    .modal-body{ padding: 14px; }
    .modal-input{
      width:100%;
      height: 44px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel-2);
      color: var(--text);
      padding: 0 12px;
      outline:none;
      font-size: 14px;
    }
    .results{
      margin-top: 12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height: 52vh;
      overflow:auto;
      padding-right: 4px;
    }
    .result-item{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: var(--panel);
      transition: transform .15s, background .15s;
      cursor:pointer;
    }
    .result-item:hover{ background: var(--panel-2); transform: translateY(-1px); }
    .result-item .type{
      font-size: 11px;
      letter-spacing:.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 4px;
    }
    .result-item .title{ font-weight: 700; margin: 0; font-size: 14px; }
    .result-item .desc{ margin: 6px 0 0; color: var(--muted); font-size: 12px; line-height: 1.45; }
    .hl{ background: rgba(190,129,65,.25); padding: 0 3px; border-radius: 6px; }

    /* ===== Responsivo ===== */
    @media (max-width: 1100px){
      .members .card{ grid-column: span 12; }
      .hero{ flex-direction: column; }
      .hero-right{ min-width: 0; }
      .hero-kpis{ grid-template-columns: repeat(3, 1fr); }
      .topbar-path{ max-width: 320px; }
    }
    @media (max-width: 980px){
      .content-wrap{ padding: 14px 16px 24px; }
      .grid .card.half, .projects .card{ grid-column: span 12; }
      .input{ min-width: 200px; width: 100%; }
      .toolbar-left, .toolbar-right{ width:100%; justify-content:space-between; }
      .topbar-row{ padding: 12px 14px; }
      .tabsbar{ padding: 0 14px 12px; }
      .topbar-path{ max-width: 220px; }
    }
  </style>
</head>

<body>
  <!-- Header (Topo + Abas) -->
  <header class="site-topbar">
    <div class="topbar-row">
      <div class="topbar-left">
        <div class="topbar-logo">
          <img src="Logo_2025_sem_fundo.png" alt="GISPRAD">
        </div>
        <div class="topbar-path" id="topPath">
          <b>GISPRAD</b><span class="sep">|</span><span id="topSection">GISPRAD</span>
        </div>
      </div>

      <div class="topbar-actions">
        <button class="iconbtn" id="btn-search" title="Pesquisar (Ctrl/‚åò K)" aria-label="Pesquisar">üîç</button>
        <button class="iconbtn" id="btn-theme" title="Alternar tema" aria-label="Alternar tema">üåì</button>
      </div>
    </div>

    <div class="tabsbar">
      <div class="tabs" role="tablist" aria-label="Navega√ß√£o do site">
        <button class="tab-btn" role="tab" aria-selected="true"  data-tab="tab-gisprad">GISPRAD</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-projetos">PROJETOS</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-pubs">PUBLICA√á√ïES</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-integrantes">INTEGRANTES</button>
        <button class="tab-btn" role="tab" aria-selected="false" data-tab="tab-contato">CONTATO</button>
      </div>
    </div>
  </header>

  <main class="content-wrap">
    <!-- ====== GISPRAD ====== -->
    <section class="panel tab-panel active" id="tab-gisprad">
      <div class="grid">
        <div class="card" style="grid-column: span 12;">
          <div class="hero">
            <div class="hero-left">
              <div class="section-title">
                <h3>Laborat√≥rio GISPRAD</h3>
                <span class="badge">Institucional</span>
              </div>
              <p class="muted" style="margin-top:0; line-height:1.6;">
                O GISPRAD √© um laborat√≥rio voltado √† pesquisa, desenvolvimento e aplica√ß√£o de solu√ß√µes em
                geotecnologias, an√°lise espacial e integra√ß√£o de dados para suporte √† tomada de decis√£o.
              </p>

              <div class="hero-kpis" aria-label="Indicadores">
                <div class="kpi">
                  <strong id="kpiMembers">‚Äî</strong>
                  <span>Integrantes</span>
                </div>
                <div class="kpi">
                  <strong id="kpiProjects">‚Äî</strong>
                  <span>Projetos</span>
                </div>
                <div class="kpi">
                  <strong id="kpiPubs">‚Äî</strong>
                  <span>Publica√ß√µes</span>
                </div>
              </div>

              <div class="meta-row" style="margin-top: 14px;">
                <span class="meta-chip" id="goProjects">Ver projetos ‚Üí</span>
                <span class="meta-chip" id="goMembers">Ver equipe ‚Üí</span>
                <span class="meta-chip" id="goPubs">Ver publica√ß√µes ‚Üí</span>
              </div>

              <!-- Banner -->
              <div class="hero-banner" id="heroBanner">
                <img src="banner_gisprad.jpg" alt="Banner do GISPRAD"
                  onerror="this.remove(); document.getElementById('heroBanner').insertAdjacentHTML('afterbegin', `
                    <div class='hero-banner-fallback'>
                      <span aria-hidden='true'>üõ∞Ô∏è</span>
                      <span>Adicionar a imagem <b>banner_gisprad.jpg</b> na pasta do site</span>
                    </div>
                  `)">
                <div class="hero-banner-caption">
                  Sugest√£o: foto do campus/laborat√≥rio ou imagem tem√°tica (sat√©lite/ortofoto/WebGIS).
                </div>
              </div>
            </div>

            <div class="hero-right">
              <div class="section-title">
                <h3>Linhas de Pesquisa</h3>
                <span class="badge" id="badgeLines">4 linhas</span>
              </div>
              <ul id="linesList" style="margin: 8px 0 0 18px; line-height: 1.8; color: var(--muted);">
                <li>Geoprocessamento e An√°lise Espacial</li>
                <li>Sensoriamento Remoto Aplicado</li>
                <li>Sistemas de Informa√ß√£o Geogr√°fica na Web (WebGIS)</li>
                <li>Automa√ß√£o e Ci√™ncia de Dados Ambientais</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="card half">
          <div class="section-title">
            <h3>Localiza√ß√£o</h3>
            <span class="badge">UFPR ‚Ä¢ Campus Bot√¢nico</span>
          </div>
          <p style="margin:0;">
            UFPR ‚Äî Campus Bot√¢nico.<br>
            <small class="small">Av. Prefeito Loth√°rio Meissner, 632</small>
          </p>
          <iframe class="map-container"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3602.834743204961!2d-49.2391757!3d-25.4437905!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94dce50866509f6b%3A0x6b77c38c8236c53e!2sAv.%20Prefeito%20Loth%C3%A1rio%20Meissner%2C%20632!5e0!3m2!1spt-BR!2sbr!4v1700000000000"
            allowfullscreen="" loading="lazy"></iframe>
        </div>

        <div class="card half" id="card-contato">
          <div class="section-title">
            <h3>Contato</h3>
            <span class="badge">Redes e e-mail</span>
          </div>
          <p style="margin:0 0 8px;"><b>E-mail:</b>
            <a href="mailto:contato@gisprad.org" style="color: var(--accent);">contato@gisprad.org</a>
          </p>
          <p style="margin:0 0 8px;"><b>Instagram:</b>
            <a href="https://instagram.com/gisprad" target="_blank" rel="noopener" style="color: var(--accent);">@gisprad</a>
          </p>
          <p style="margin:0;"><b>V√≠nculo:</b> Depto. de Geom√°tica / PPG em Ci√™ncias Geod√©sicas - UFPR.</p>

          <div class="meta-row" style="margin-top: 12px;">
            <span class="meta-chip" id="copyEmail">Copiar e-mail</span>
            <span class="meta-chip" id="openIG">Abrir Instagram</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ====== PROJETOS ====== -->
    <section class="panel tab-panel" id="tab-projetos">
      <div class="toolbar">
        <div class="toolbar-left">
          <input class="input" id="projectsSearch" placeholder="Filtrar projetos..." />
          <span class="count" id="projectsCount">0</span>
        </div>
        <div class="toolbar-right">
          <select class="select" id="projectsSort" aria-label="Ordenar projetos">
            <option value="az">Ordenar: A‚ÄìZ</option>
            <option value="za">Ordenar: Z‚ÄìA</option>
          </select>
        </div>
      </div>
      <div class="grid projects" id="projectsGrid"></div>
      <p class="small" id="projectsEmpty" style="display:none; margin: 10px 0 0;">Nenhum projeto encontrado.</p>
    </section>

    <!-- ====== PUBLICA√á√ïES ====== -->
    <section class="panel tab-panel" id="tab-pubs">
      <div class="toolbar">
        <div class="toolbar-left">
          <input class="input" id="pubsSearch" placeholder="Filtrar publica√ß√µes..." />
          <span class="count" id="pubsCount">0</span>
        </div>
        <div class="toolbar-right">
          <select class="select" id="pubsSort" aria-label="Ordenar publica√ß√µes">
            <option value="az">Ordenar: A‚ÄìZ</option>
            <option value="za">Ordenar: Z‚ÄìA</option>
          </select>
        </div>
      </div>
      <div class="grid pubs" id="pubsGrid"></div>
      <p class="small" id="pubsEmpty" style="display:none; margin: 10px 0 0;">Nenhuma publica√ß√£o encontrada.</p>
    </section>

    <!-- ====== INTEGRANTES ====== -->
    <section class="panel tab-panel" id="tab-integrantes">
      <div class="toolbar">
        <div class="toolbar-left">
          <input class="input" id="membersSearch" placeholder="Filtrar integrantes..." />
          <span class="count" id="membersCount">0</span>
        </div>
        <div class="toolbar-right">
          <select class="select" id="membersFilter" aria-label="Filtrar por n√≠vel">
            <option value="all">N√≠vel: Todos</option>
            <option value="Professor Orientador">Professor Orientador</option>
            <option value="P√≥s-doc">P√≥s-doc</option>
            <option value="Doutorado">Doutorado</option>
            <option value="Mestrado">Mestrado</option>
            <option value="Gradua√ß√£o">Gradua√ß√£o</option>
          </select>
          <select class="select" id="membersSort" aria-label="Ordenar integrantes">
            <option value="az">Ordenar: A‚ÄìZ</option>
            <option value="za">Ordenar: Z‚ÄìA</option>
          </select>
        </div>
      </div>

      <div class="grid members" id="membersGrid"></div>
      <p class="small" id="membersEmpty" style="display:none; margin: 10px 0 0;">Nenhum integrante encontrado.</p>
    </section>

    <!-- ====== CONTATO ====== -->
    <section class="panel tab-panel" id="tab-contato">
      <div class="grid">
        <div class="card half">
          <div class="section-title">
            <h3>Contato</h3>
            <span class="badge">E-mail e redes</span>
          </div>
          <p style="margin:0 0 8px;"><b>E-mail:</b>
            <a href="mailto:contato@gisprad.org" style="color: var(--accent);">contato@gisprad.org</a>
          </p>
          <p style="margin:0 0 8px;"><b>Instagram:</b>
            <a href="https://instagram.com/gisprad" target="_blank" rel="noopener" style="color: var(--accent);">@gisprad</a>
          </p>
          <p style="margin:0;"><b>V√≠nculo:</b> Depto. de Geom√°tica / PPG em Ci√™ncias Geod√©sicas - UFPR.</p>

          <div class="meta-row" style="margin-top: 12px;">
            <span class="meta-chip" id="copyEmail2">Copiar e-mail</span>
            <span class="meta-chip" id="openIG2">Abrir Instagram</span>
          </div>
        </div>

        <div class="card half">
          <div class="section-title">
            <h3>Localiza√ß√£o</h3>
            <span class="badge">UFPR ‚Ä¢ Campus Bot√¢nico</span>
          </div>
          <p style="margin:0;">
            UFPR ‚Äî Campus Bot√¢nico.<br>
            <small class="small">Av. Prefeito Loth√°rio Meissner, 632</small>
          </p>
          <iframe class="map-container"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3602.834743204961!2d-49.2391757!3d-25.4437905!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94dce50866509f6b%3A0x6b77c38c8236c53e!2sAv.%20Prefeito%20Loth%C3%A1rio%20Meissner%2C%20632!5e0!3m2!1spt-BR!2sbr!4v1700000000000"
            allowfullscreen="" loading="lazy"></iframe>
        </div>
      </div>
    </section>

    <div class="small muted" style="text-align:center; padding: 10px 0 0;">
      ¬© <span id="year"></span> GISPRAD
    </div>
  </main>

  <!-- Modal de busca -->
  <div class="modal" id="searchModal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Pesquisar no site">
      <div class="modal-head">
        <strong>Pesquisar no site</strong>
        <button class="iconbtn" id="closeModal" aria-label="Fechar">‚úï</button>
      </div>
      <div class="modal-body">
        <input id="modalSearchInput" class="modal-input" placeholder="Buscar em projetos, publica√ß√µes e integrantes..." />
        <div class="results" id="searchResults"></div>
        <p class="small muted" style="margin: 10px 0 0;">
          Atalho: <b>Ctrl/‚åò K</b> para abrir ‚Ä¢ <b>Esc</b> para fechar
        </p>
      </div>
    </div>
  </div>

  <script>
    const LINKEDIN_ICON = `<img src="logo_linkedin.png" alt="LinkedIn" class="ln-ico">`;

    const members = [
      { photo: "Logo_2025_sem_fundo.png", name: "√Ålvaro P. Berghetti", role: "Professor Orientador", email: "alvaro.berghetti@ufpr.br", link: "https://www.linkedin.com/in/alvaro-berghetti-82b6b5158/" },
      { name: "Viviane Maia Corr√™a", role: "Doutorado", email: "viviane.correa@ufpr.br", link: "#" },
      { name: "Cleberson Porath", role: "Mestrado", email: "cleberson.porath@ufpr.br", link: "https://www.linkedin.com/in/cleberson-porath/" },
      { name: "Eduardo Praxedes B. Raymundo", role: "Mestrado", email: "eduardopraxedes@ufpr.br", link: "https://www.linkedin.com/in/eduardo-praxedes-189468160/" },
      { name: "Julia Silva Rodrigues", role: "Mestrado", email: "julia.s.rodrigues.21@ufpr.br", link: "https://www.linkedin.com/in/julia-rodrigues-0a92b2160/" },
      { name: "Juliana Hoepers M. Tedesco", role: "Mestrado", email: "juliana.tedesco@ufpr.br", link: "https://www.linkedin.com/in/juliana-tedesco/" },
      { name: "Kemelyn Hack Pires", role: "Mestrado", email: "kemelynpires@ufpr.br", link: "https://www.linkedin.com/in/kemelyn-hack-pires-a254ba1b2/" },
      { name: "Lucas Soares Miguez", role: "Mestrado", email: "lucas.miguez@ufpr.br", link: "https://www.linkedin.com/in/lucas-miguez-166814248/" },
      { name: "Patr√≠cia Portela Feldmann", role: "Mestrado", email: "patricia.feldmann@ufpr.br", link: "https://www.linkedin.com/in/patricia-portela-feldmann-a502b798/" },
      { name: "Thain√° Alo√≠sio Saraiva", role: "Mestrado", email: "thaina.aloisio@ufpr.br", link: "https://www.linkedin.com/in/thainaasaraiva/" },
      { name: "Agnes Aleixo da Luz", role: "Gradua√ß√£o", email: "agnes.luz@ufpr.br", link: "https://www.linkedin.com/in/agnes-aleixo-da-luz-3aa1343a9/" },
      { name: "Alonso Cort√©s do Amaral", role: "Gradua√ß√£o", email: "alonso.amaral@ufpr.br", link: "#" },
      { name: "Carolina Pulido Arce", role: "Gradua√ß√£o", email: "carolinaarce@ufpr.br", link: "https://www.linkedin.com/in/carolina-pulido-arce/" },
      { name: "Dheimilly Krachinski", role: "Gradua√ß√£o", email: "dheimilly.krachinski@ufpr.br", link: "https://www.linkedin.com/in/dheimilly-krachinski-439941361/" },
      { name: "Eduarda Cristina M. dos Santos", role: "Gradua√ß√£o", email: "eduarda.moraes@ufpr.br", link: "https://www.linkedin.com/in/eduardacristinams/" },
      { name: "Francisco Er√™ Consani Steidle", role: "Gradua√ß√£o", email: "franciscoere@ufpr.br", link: "https://www.linkedin.com/in/francisco-er%C3%AA-consani-05b027367/" },
      { name: "Gabriel de Oliveira Bonfim Araujo", role: "Gradua√ß√£o", email: "gabriel.bonfim@ufpr.br", link: "#" },
      { name: "Heitor do Nascimento Moreira", role: "Gradua√ß√£o", email: "heitor.nascimento@ufpr.br", link: "#" },
      { name: "Katrielle Alessandra R. S. Isaias", role: "Gradua√ß√£o", email: "katrielle@ufpr.br", link: "#" },
      { name: "Lara Brand Bordenousky", role: "Gradua√ß√£o", email: "lara.brand@ufpr.br", link: "https://www.linkedin.com/in/lara-brand-bordenousky-859205313/" },
      { name: "Laura Gabriela Bortoli Mariotto", role: "Gradua√ß√£o", email: "laura.mariotto@upfr.br", link: "#" },
      { name: "Ruan Pablo da Trindade", role: "Gradua√ß√£o", email: "ruantrindade@ufpr.br", link: "https://www.linkedin.com/in/rptrindade/" }
    ];

    const projects = [
      { title: "Monitoramento Ambiental", desc: "Uso de sensoriamento remoto para an√°lise de solo.", tags:["Sensoriamento Remoto","Ambiente"] },
      { title: "WebGIS Institucional", desc: "Plataforma interativa para visualiza√ß√£o de dados.", tags:["WebGIS","SIG"] }
    ];

    const publications = [
      // Preencher depois (opcional)
      // { title: "T√≠tulo do artigo", desc: "Revista/Evento ‚Ä¢ Ano ‚Ä¢ Autores", link:"#", tags:["Artigo","2025"] }
    ];

    function getIniciais(n){
      return n.split(" ").map(x => x[0]).join("").substring(0,2).toUpperCase();
    }
    function norm(s){
      return (s || "").toString().normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
    }
    function escapeHtml(str){
      return (str || "").replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }
    function highlight(text, q){
      if(!q) return escapeHtml(text);
      const ntext = norm(text);
      const nq = norm(q).trim();
      if(!nq) return escapeHtml(text);
      const idx = ntext.indexOf(nq);
      if(idx < 0) return escapeHtml(text);

      const pre = text.slice(0, idx);
      const mid = text.slice(idx, idx + q.length);
      const post = text.slice(idx + q.length);
      return `${escapeHtml(pre)}<span class="hl">${escapeHtml(mid)}</span>${escapeHtml(post)}`;
    }

    // ===== Render members =====
    let membersView = [...members];

    function memberCard(m){
      const hasValidLink = m.link && m.link !== "#";
      const ln = hasValidLink
        ? `<a href="${m.link}" class="ln-link" target="_blank" rel="noopener" title="LinkedIn">${LINKEDIN_ICON}</a>`
        : `<span class="small muted">LinkedIn n√£o informado</span>`;

      return `
        <article class="card" data-name="${escapeHtml(m.name)}" data-role="${escapeHtml(m.role)}">
          <div class="member">
            ${m.photo
              ? `<img src="${m.photo}" alt="Foto de ${escapeHtml(m.name)}" class="avatar-photo"
                   onerror="this.style.display='none'; this.insertAdjacentHTML('afterend', '<div class=&quot;avatar-fallback&quot;>${getIniciais(m.name)}</div>')">`
              : `<div class="avatar-fallback">${getIniciais(m.name)}</div>`
            }
            <div class="member-info" style="min-width:0;">
              <div class="member-title">
                <span class="member-name" title="${escapeHtml(m.name)}">${escapeHtml(m.name)}</span>
                <span class="member-role-inline">| ${escapeHtml(m.role)}</span>
              </div>
              <small>${escapeHtml(m.email)}</small>
              ${ln}
            </div>
          </div>
        </article>
      `;
    }

    function renderMembers(){
      const grid = document.getElementById("membersGrid");
      const empty = document.getElementById("membersEmpty");
      const count = document.getElementById("membersCount");
      if(!grid) return;

      grid.innerHTML = membersView.map(memberCard).join("");
      count.textContent = `${membersView.length} integrante(s)`;
      empty.style.display = membersView.length ? "none" : "block";
    }

    // ===== Render projects =====
    let projectsView = [...projects];

    function projectCard(p){
      const tags = (p.tags || []).map(t => `<span class="badge">${escapeHtml(t)}</span>`).join(" ");
      return `
        <article class="card" data-title="${escapeHtml(p.title)}">
          <div class="section-title">
            <h3>${escapeHtml(p.title)}</h3>
            <span class="badge">Projeto</span>
          </div>
          <p class="muted" style="margin:0; line-height:1.6;">${escapeHtml(p.desc)}</p>
          ${tags ? `<div class="meta-row" style="margin-top: 12px;">${tags}</div>` : ``}
        </article>
      `;
    }

    function renderProjects(){
      const grid = document.getElementById("projectsGrid");
      const empty = document.getElementById("projectsEmpty");
      const count = document.getElementById("projectsCount");
      if(!grid) return;

      grid.innerHTML = projectsView.map(projectCard).join("");
      count.textContent = `${projectsView.length} projeto(s)`;
      empty.style.display = projectsView.length ? "none" : "block";
    }

    // ===== Render pubs =====
    let pubsView = [...publications];

    function pubCard(p){
      const tags = (p.tags || []).map(t => `<span class="badge">${escapeHtml(t)}</span>`).join(" ");
      const link = (p.link && p.link !== "#")
        ? `<a class="meta-chip" href="${p.link}" target="_blank" rel="noopener">Abrir ‚Üí</a>`
        : `<span class="meta-chip">Sem link</span>`;

      return `
        <article class="card" data-title="${escapeHtml(p.title)}">
          <div class="section-title">
            <h3>${escapeHtml(p.title)}</h3>
            <span class="badge">Publica√ß√£o</span>
          </div>
          <p class="muted" style="margin:0; line-height:1.6;">${escapeHtml(p.desc || "Descri√ß√£o n√£o informada.")}</p>
          <div class="meta-row" style="margin-top: 12px;">
            ${link}
            ${tags}
          </div>
        </article>
      `;
    }

    function renderPubs(){
      const grid = document.getElementById("pubsGrid");
      const empty = document.getElementById("pubsEmpty");
      const count = document.getElementById("pubsCount");
      if(!grid) return;

      grid.innerHTML = pubsView.map(pubCard).join("");
      count.textContent = `${pubsView.length} publica√ß√£o(√µes)`;
      empty.style.display = pubsView.length ? "none" : "block";
    }

    // ===== Tabs meta (para atualizar GISPRAD | Aba) =====
    const meta = {
      "tab-gisprad":      { top: "GISPRAD" },
      "tab-projetos":     { top: "Projetos" },
      "tab-pubs":         { top: "Publica√ß√µes" },
      "tab-integrantes":  { top: "Integrantes" },
      "tab-contato":      { top: "Contato" }
    };

    function setActiveTab(tid){
      document.querySelectorAll(".tab-btn").forEach(b => b.setAttribute("aria-selected","false"));
      document.querySelectorAll(".tab-panel").forEach(p => p.classList.remove("active"));

      document.querySelector(`.tab-btn[data-tab="${tid}"]`)?.setAttribute("aria-selected","true");
      document.getElementById(tid)?.classList.add("active");

      document.getElementById("topSection").textContent = meta[tid].top;
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // ===== Tema =====
    function toggleTheme(){
      const theme = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
    }
    function loadTheme(){
      const saved = localStorage.getItem("theme");
      if(saved === "light" || saved === "dark"){
        document.documentElement.setAttribute("data-theme", saved);
      }
    }

    // ===== Modal busca =====
    const modal = document.getElementById("searchModal");
    const modalInput = document.getElementById("modalSearchInput");
    const resultsEl = document.getElementById("searchResults");

    function openModal(){
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      modalInput.value = "";
      renderSearchResults("");
      setTimeout(() => modalInput.focus(), 50);
    }
    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
    }

    function renderSearchResults(q){
      const nq = norm(q).trim();
      const results = [];

      projects.forEach(p => {
        const hay = norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Projeto", title:p.title, desc:p.desc, go: () => { setActiveTab("tab-projetos"); closeModal(); } });
        }
      });

      publications.forEach(p => {
        const hay = norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Publica√ß√£o", title:p.title, desc:p.desc || "", go: () => { setActiveTab("tab-pubs"); closeModal(); } });
        }
      });

      members.forEach(m => {
        const hay = norm(`${m.name} ${m.role} ${m.email}`);
        if(!nq || hay.includes(nq)){
          results.push({ type:"Integrante", title:`${m.name} ‚Ä¢ ${m.role}`, desc:m.email, go: () => { setActiveTab("tab-integrantes"); closeModal(); } });
        }
      });

      resultsEl.innerHTML = results.slice(0, 30).map(r => `
        <div class="result-item" role="button" tabindex="0">
          <div class="type">${escapeHtml(r.type)}</div>
          <p class="title">${highlight(r.title, q)}</p>
          <p class="desc">${highlight(r.desc || "", q)}</p>
        </div>
      `).join("");

      [...resultsEl.querySelectorAll(".result-item")].forEach((el, idx) => {
        el.addEventListener("click", () => results[idx].go());
        el.addEventListener("keydown", (e) => { if(e.key === "Enter") results[idx].go(); });
      });

      if(results.length === 0){
        resultsEl.innerHTML = `<div class="result-item"><div class="type">Sem resultados</div><p class="title">Nada encontrado</p><p class="desc">Tentar outro termo.</p></div>`;
      }
    }

    // ===== Filtros =====
    function applyMembersFilters(){
      const q = norm(document.getElementById("membersSearch").value);
      const level = document.getElementById("membersFilter").value;
      const sort = document.getElementById("membersSort").value;

      membersView = members
        .filter(m => {
          const okLevel = (level === "all") ? true : (m.role === level);
          const okText = !q || norm(`${m.name} ${m.role} ${m.email}`).includes(q);
          return okLevel && okText;
        })
        .sort((a,b) => sort === "az" ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name));

      renderMembers();
    }

    function applyProjectsFilters(){
      const q = norm(document.getElementById("projectsSearch").value);
      const sort = document.getElementById("projectsSort").value;

      projectsView = projects
        .filter(p => !q || norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`).includes(q))
        .sort((a,b) => sort === "az" ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));

      renderProjects();
    }

    function applyPubsFilters(){
      const q = norm(document.getElementById("pubsSearch").value);
      const sort = document.getElementById("pubsSort").value;

      pubsView = publications
        .filter(p => !q || norm(`${p.title} ${p.desc} ${(p.tags||[]).join(" ")}`).includes(q))
        .sort((a,b) => sort === "az" ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));

      renderPubs();
    }

    // ===== Init =====
    loadTheme();
    document.getElementById("year").textContent = new Date().getFullYear();

    document.getElementById("kpiMembers").textContent = members.length;
    document.getElementById("kpiProjects").textContent = projects.length;
    document.getElementById("kpiPubs").textContent = publications.length;

    renderMembers();
    renderProjects();
    renderPubs();

    document.querySelectorAll(".tab-btn").forEach(btn => {
      btn.onclick = () => setActiveTab(btn.dataset.tab);
    });

    document.getElementById("btn-theme").onclick = toggleTheme;

    document.getElementById("btn-search").onclick = openModal;
    document.getElementById("closeModal").onclick = closeModal;

    modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
    document.addEventListener("keydown", (e) => {
      const isCmdK = (e.ctrlKey || e.metaKey) && e.key.toLowerCase() === "k";
      if(isCmdK){ e.preventDefault(); openModal(); }
      if(e.key === "Escape"){ closeModal(); }
    });

    modalInput.addEventListener("input", (e) => renderSearchResults(e.target.value));

    document.getElementById("membersSearch").addEventListener("input", applyMembersFilters);
    document.getElementById("membersFilter").addEventListener("change", applyMembersFilters);
    document.getElementById("membersSort").addEventListener("change", applyMembersFilters);

    document.getElementById("projectsSearch").addEventListener("input", applyProjectsFilters);
    document.getElementById("projectsSort").addEventListener("change", applyProjectsFilters);

    document.getElementById("pubsSearch").addEventListener("input", applyPubsFilters);
    document.getElementById("pubsSort").addEventListener("change", applyPubsFilters);

    document.getElementById("copyEmail").onclick = async () => {
      try{ await navigator.clipboard.writeText("contato@gisprad.org"); alert("E-mail copiado: contato@gisprad.org"); }
      catch(e){ alert("N√£o foi poss√≠vel copiar automaticamente. Copiar manualmente: contato@gisprad.org"); }
    };
    document.getElementById("openIG").onclick = () => window.open("https://instagram.com/gisprad", "_blank", "noopener");

    document.getElementById("copyEmail2").onclick = async () => {
      try{ await navigator.clipboard.writeText("contato@gisprad.org"); alert("E-mail copiado: contato@gisprad.org"); }
      catch(e){ alert("N√£o foi poss√≠vel copiar automaticamente. Copiar manualmente: contato@gisprad.org"); }
    };
    document.getElementById("openIG2").onclick = () => window.open("https://instagram.com/gisprad", "_blank", "noopener");

    document.getElementById("goProjects").onclick = () => setActiveTab("tab-projetos");
    document.getElementById("goMembers").onclick = () => setActiveTab("tab-integrantes");
    document.getElementById("goPubs").onclick = () => setActiveTab("tab-pubs");

    // Aba inicial
    setActiveTab("tab-gisprad");
  </script>
</body>
</html>
